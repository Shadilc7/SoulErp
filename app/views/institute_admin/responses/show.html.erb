<div class="page-header d-flex justify-content-between align-items-center">
  <div>
    <h1 class="page-title">Response Details</h1>
    <p class="text-secondary mb-0">
      <%= @response.participant.full_name %>'s response to <%= @response.assignment.title %>
    </p>
  </div>
  <%= link_to (@assignment ? 
      institute_admin_assignment_responses_path(@assignment) : 
      institute_admin_responses_path), 
      class: "btn btn-outline-primary" do %>
    <i class="bi bi-arrow-left me-2"></i>Back to Responses
  <% end %>
</div>

<div class="row g-4">
  <div class="col-md-4">
    <div class="card">
      <div class="card-body">
        <h6 class="card-subtitle mb-3 text-secondary">Response Summary</h6>
        
        <div class="mb-3">
          <div class="text-secondary mb-1">Participant</div>
          <div class="fw-medium"><%= @response.participant.full_name %></div>
          <div class="small text-secondary"><%= @response.participant.email %></div>
        </div>

        <div class="mb-3">
          <div class="text-secondary mb-1">Section</div>
          <div class="fw-medium"><%= @response.participant.section.name %></div>
        </div>

        <div class="mb-3">
          <div class="text-secondary mb-1">Assignment</div>
          <div class="fw-medium"><%= @response.assignment.title %></div>
        </div>

        <div class="mb-3">
          <div class="text-secondary mb-1">Submitted At</div>
          <div class="fw-medium">
            <%= @response.created_at.strftime("%B %d, %Y at %H:%M") %>
          </div>
        </div>

        <div>
          <div class="text-secondary mb-1">Score</div>
          <% if @response.score.present? %>
            <div class="d-flex align-items-center">
              <h3 class="mb-0 me-2"><%= @response.score %>/<%= @response.assignment.total_marks %></h3>
              <span class="badge badge-success">
                <%= (@response.score.to_f / @response.assignment.total_marks * 100).round %>%
              </span>
            </div>
          <% else %>
            <span class="badge badge-warning">Pending Evaluation</span>
          <% end %>
        </div>
      </div>
    </div>
  </div>

  <div class="col-md-8">
    <div class="card">
      <div class="card-body">
        <h6 class="card-subtitle mb-4 text-secondary">Question Response</h6>

        <div class="mb-3">
          <div class="text-secondary mb-2">Question</div>
          <div class="fw-medium"><%= @response.question.title %></div>
        </div>

        <div class="mb-3">
          <div class="text-secondary mb-2">Response</div>
          <div class="fw-medium"><%= @response.answer %></div>
        </div>
      </div>
    </div>
  </div>
</div> 